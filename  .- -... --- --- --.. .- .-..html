<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Birthday Short â€” Aboozar</title>
<style>
  :root{
    --bg1:#ffb6c1;
    --bg2:#ffc0cb;
    --accent:#ff4f9e;
    --white:#ffffff;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--white);-webkit-font-smoothing:antialiased}
  .phone{width:360px;height:720px;max-width:92vw;border-radius:28px;margin:24px auto;overflow:hidden;box-shadow:0 30px 80px rgba(0,0,0,0.25);position:relative;background:transparent}
  .frame{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding:28px;box-sizing:border-box}
  .message{font-weight:800;font-size:34px;text-align:center;line-height:1;margin-bottom:8px; text-shadow:0 6px 20px rgba(255,0,90,0.12)}
  .subtitle{font-size:16px;opacity:0.95;margin-bottom:18px}
  .cake{width:170px;height:180px;border-radius:18px;background:linear-gradient(180deg,#ff6ea3,#ff4f9e);box-shadow:0 12px 34px rgba(0,0,0,0.25);display:flex;align-items:center;justify-content:center;position:relative;margin-bottom:18px}
  .plate{position:absolute;bottom:-10px;width:220px;height:26px;background:linear-gradient(180deg,#fff0f5,#ffd6ec);border-radius:40px}
  .candles{display:flex;gap:8px;position:absolute;top:8px}
  .candle{width:8px;height:34px;background:linear-gradient(#fff2cc,#ffd480);border-radius:6px;position:relative}
  .flame{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:10px solid #ffcf3b;position:absolute;top:-10px;left:50%;transform:translateX(-50%);filter:drop-shadow(0 2px 6px rgba(255,140,0,0.2))}
  .controls{display:flex;gap:10px;margin-bottom:8px}
  .btn{padding:10px 14px;border-radius:12px;background:rgba(255,255,255,0.12);border:1px solid rgba(255,255,255,0.14);font-weight:700;cursor:pointer;color:var(--white)}
  .hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
  .heart{position:absolute;font-size:28px;opacity:0.95;transform:translateY(120%);animation:rise 3s linear forwards;filter:drop-shadow(0 10px 20px rgba(255,80,120,0.12))}
  @keyframes rise{0%{transform:translateY(120%) scale(0.8);opacity:0}50%{opacity:1}100%{transform:translateY(-40%) scale(1.05);opacity:0}}
  .confetti-piece{position:absolute;width:10px;height:14px;opacity:0.95;transform-origin:center;animation:confetti-fall linear forwards}
  @keyframes confetti-fall{0%{transform:translateY(-30vh) rotate(0) ;opacity:1}100%{transform:translateY(90vh) rotate(720deg);opacity:0}}
  .footer-note{position:absolute;left:18px;bottom:12px;font-size:12px;opacity:0.9}
  /* vertical layout for mobile feel */
  @media (max-width:420px){ .phone{width:92vw;height:82vh;border-radius:20px} .message{font-size:30px} }
</style>
</head>
<body>
  <div class="phone" role="region" aria-label="Birthday short preview">
    <div class="frame" id="frame">
      <div class="hearts" id="hearts"></div>
      <div class="message" id="message">Happy Birthday, <span id="name">Aboozar</span> ðŸŽ‚</div>
      <div class="subtitle" id="subtitle">You make my world softer and brighter</div>

      <div class="cake" id="cake" aria-hidden="true">
        <div class="candles" id="candles"></div>
        <div class="plate" aria-hidden="true"></div>
      </div>

      <div class="controls">
        <button class="btn" id="playBtn">Play Music</button>
        <button class="btn" id="confettiBtn">Confetti</button>
        <button class="btn" id="surpriseBtn">Surprise</button>
      </div>

      <div class="footer-note">Tap buttons or press P/C/S keys</div>
    </div>
  </div>

<script>
// Create candles
const candlesEl = document.getElementById('candles');
for(let i=0;i<5;i++){
  const c = document.createElement('div'); c.className='candle';
  const f = document.createElement('div'); f.className='flame';
  c.appendChild(f); candlesEl.appendChild(c);
}

// Hearts generator (like the short)
const heartsContainer = document.getElementById('hearts');
function spawnHeart(xPercent){
  const el = document.createElement('div');
  el.className = 'heart';
  el.style.left = (xPercent !== undefined ? xPercent : (10 + Math.random()*80)) + '%';
  el.style.fontSize = (18 + Math.random()*28) + 'px';
  el.innerHTML = 'ðŸ’—';
  el.style.animationDuration = (2.5 + Math.random()*1.6) + 's';
  heartsContainer.appendChild(el);
  setTimeout(()=> el.remove(), 4500);
}

// Confetti generator
const frame = document.getElementById('frame');
function spawnConfetti(count=24){
  const colors=['#ff2d95','#ffd36b','#ffd6ec','#9ce6ff','#ff9ad6'];
  for(let i=0;i<count;i++){
    const el = document.createElement('div'); el.className='confetti-piece';
    el.style.left = (5 + Math.random()*90) + '%';
    el.style.top = (-10 - Math.random()*30) + 'vh';
    el.style.background = colors[Math.floor(Math.random()*colors.length)];
    el.style.width = (6 + Math.random()*14) + 'px';
    el.style.height = (6 + Math.random()*14) + 'px';
    el.style.borderRadius = (Math.random()>0.5)? '2px':'50%';
    el.style.animationDuration = (1.6 + Math.random()*2.6) + 's';
    frame.appendChild(el);
    setTimeout(()=> el.remove(), 5200);
  }
}

// Typed surprise messages
const messages = [
  "Happy Birthday, my love! ðŸŽ‰",
  "Every moment with you is a blessing.",
  "You make my world softer, brighter, and happier.",
  "I pray this year brings you all the love and peace you deserve.",
  "Always here, loving you a little more each day. â¤ï¸"
];
let mi = 0;
const messageEl = document.getElementById('subtitle');
function showSurprise(){
  const txt = messages[mi % messages.length]; mi++;
  messageEl.textContent = '';
  let k = 0;
  const t = setInterval(()=>{
    messageEl.textContent += txt[k++] || '';
    if(k > txt.length) clearInterval(t);
  },36);
  // spawn some hearts & confetti
  for(let i=0;i<8;i++) spawnHeart(10 + Math.random()*80);
  spawnConfetti(28);
}

// Simple melody using WebAudio
const notes = {'C4':261.63,'D4':293.66,'E4':329.63,'F4':349.23,'G4':392,'A4':440,'B4':493.88,'C5':523.25,'D5':587.33};
const melody = [['G4',0.32],['G4',0.32],['A4',0.64],['G4',0.64],['C5',0.64],['B4',1.0]];
let audioCtx = null;
function playMelody(){
  if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)();
  const t0 = audioCtx.currentTime + 0.05;
  let cursor = t0;
  melody.forEach(([n,d])=>{
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type='sine'; o.frequency.value = notes[n] || 440;
    g.gain.value = 0.0001;
    o.connect(g); g.connect(audioCtx.destination);
    const attack=0.02, release=0.08;
    g.gain.setValueAtTime(0.0001,cursor);
    g.gain.exponentialRampToValueAtTime(0.25,cursor+attack);
    o.start(cursor);
    g.gain.exponentialRampToValueAtTime(0.0001,cursor+d-release);
    o.stop(cursor+d+0.02);
    cursor += d;
  });
}

// Wire up buttons & keys
document.getElementById('confettiBtn').addEventListener('click', ()=> spawnConfetti(28));
document.getElementById('surpriseBtn').addEventListener('click', showSurprise);
document.getElementById('playBtn').addEventListener('click', ()=>{ playMelody(); spawnConfetti(12); for(let i=0;i<6;i++) setTimeout(()=> spawnHeart(), i*200); });

window.addEventListener('keydown',(e)=>{ if(e.key==='c') spawnConfetti(20); if(e.key==='p') playMelody(); if(e.key==='s') showSurprise(); });

// Auto-play a short intro sequence (but user interaction may be required for audio)
setTimeout(()=>{
  showSurprise();
  for(let i=0;i<12;i++){ setTimeout(()=> spawnHeart(10 + Math.random()*80), i*180); }
  spawnConfetti(18);
},600);

// Allow changing name quickly via prompt if user wants
document.getElementById('message').addEventListener('click', ()=>{
  const name = prompt('Enter name to show', 'Aboozar');
  if(name) document.getElementById('name').textContent = name;
});
</script>
</body>
</html>
